\hypertarget{_spettrum_plot_8h_source}{}\doxysection{Spettrum\+Plot.\+h}
\label{_spettrum_plot_8h_source}\index{/Users/matilde/Documents/CMEPDA/Y-\/DiMuonResonances/include/SpettrumPlot.h@{/Users/matilde/Documents/CMEPDA/Y-\/DiMuonResonances/include/SpettrumPlot.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// gcc -\/c -\/fpic SpettrumPlot.c Cuts.c df\_set.c fitlp2.c fitp1.c -\/o librarycode.o}}
\DoxyCodeLine{3 \textcolor{comment}{// gcc -\/shared -\/fpic -\/o libnamelibrary.so librarycode.o}}
\DoxyCodeLine{4 \textcolor{comment}{//}}
\DoxyCodeLine{5 \textcolor{comment}{//  SpettrumPlot.h}}
\DoxyCodeLine{6 \textcolor{comment}{//}}
\DoxyCodeLine{7 \textcolor{comment}{//}}
\DoxyCodeLine{8 \textcolor{comment}{//  Created by Giulio Cordova on 10/11/22.}}
\DoxyCodeLine{9 \textcolor{comment}{//}}
\DoxyCodeLine{10 \textcolor{comment}{//}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#ifndef SpettrumPlot\_h}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#define SpettrumPlot\_h}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}ROOT/RDataFrame.hxx"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}TMath.h"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}TCanvas.h"{}}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}TH1D.h"{}}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}TLatex.h"{}}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}TStyle.h"{}}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}../include/Cuts.h"{}}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{keyword}{using namespace }ROOT::VecOps;}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 }
\DoxyCodeLine{26 TH1* SpettrumPlot(ROOT::RDataFrame df\_cut)\{}
\DoxyCodeLine{27   \textcolor{comment}{//Enable multi-\/threading}}
\DoxyCodeLine{28   ROOT::EnableImplicitMT(1);}
\DoxyCodeLine{29   }
\DoxyCodeLine{30   \textcolor{comment}{// Book histogram of dimuon mass spectrum}}
\DoxyCodeLine{31   \textcolor{keyword}{const} \textcolor{keyword}{auto} bins = 300; \textcolor{comment}{// Number of bins in the histogram}}
\DoxyCodeLine{32   \textcolor{keyword}{const} \textcolor{keyword}{auto} low = 8.5;\textcolor{comment}{//0.25; // Lower edge of the histogram}}
\DoxyCodeLine{33   \textcolor{keyword}{const} \textcolor{keyword}{auto} up = 11.5;\textcolor{comment}{//300.0; // Upper edge of the histogram}}
\DoxyCodeLine{34   \textcolor{keyword}{auto} hist = df\_cut.Histo1D(\{\textcolor{stringliteral}{"{}hist"{}}, \textcolor{stringliteral}{"{}Dimuon mass"{}}, bins, low, up\}, \textcolor{stringliteral}{"{}Dimuon\_mass"{}});}
\DoxyCodeLine{35 }
\DoxyCodeLine{36   \textcolor{comment}{// Request cut-\/flow report}}
\DoxyCodeLine{37   \textcolor{keyword}{auto} report = df\_cut.Report();}
\DoxyCodeLine{38 }
\DoxyCodeLine{39   \textcolor{comment}{// Create canvas for plotting}}
\DoxyCodeLine{40   gStyle-\/>SetOptStat(0);}
\DoxyCodeLine{41   gStyle-\/>SetTextFont(42);}
\DoxyCodeLine{42   \textcolor{keyword}{auto} c = \textcolor{keyword}{new} TCanvas(\textcolor{stringliteral}{"{}c"{}}, \textcolor{stringliteral}{"{}"{}}, 800, 700);}
\DoxyCodeLine{43   \textcolor{comment}{//c-\/>SetLogx();}}
\DoxyCodeLine{44   \textcolor{comment}{//c-\/>SetLogy();}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 }
\DoxyCodeLine{47   \textcolor{comment}{// Draw histogram}}
\DoxyCodeLine{48   hist-\/>GetXaxis()-\/>SetTitle(\textcolor{stringliteral}{"{}m\_\{\#mu\string^\{+\}\#mu\string^\{-\/\}\} [GeV]"{}});}
\DoxyCodeLine{49   hist-\/>GetXaxis()-\/>SetTitleSize(0.04);}
\DoxyCodeLine{50   hist-\/>GetYaxis()-\/>SetTitle(\textcolor{stringliteral}{"{}N\_\{Events\}"{}});}
\DoxyCodeLine{51   hist-\/>GetYaxis()-\/>SetTitleSize(0.04);}
\DoxyCodeLine{52   hist-\/>DrawClone(); \textcolor{comment}{//crea un clone dell'istogramma che sopravvive fuori dalla macro}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54   \textcolor{comment}{// Draw labels}}
\DoxyCodeLine{55   TLatex label;}
\DoxyCodeLine{56   label.SetTextAlign(22); \textcolor{comment}{//22= centrale verticalmente e orizzontalmente}}
\DoxyCodeLine{57 }
\DoxyCodeLine{58   label.DrawLatex(10.0, 200, \textcolor{stringliteral}{"{}Y(1,2,3S)"{}});}
\DoxyCodeLine{59 }
\DoxyCodeLine{60   label.SetNDC(\textcolor{keyword}{true}); \textcolor{comment}{//cambio di coordinate di riferimento da quelle del grafico a quelle del pad normalizzate}}
\DoxyCodeLine{61   label.SetTextAlign(11); \textcolor{comment}{//left bottom}}
\DoxyCodeLine{62   label.SetTextSize(0.04);}
\DoxyCodeLine{63   label.DrawLatex(0.10, 0.92, \textcolor{stringliteral}{"{}\#bf\{CMS Open Data\}"{}});}
\DoxyCodeLine{64   label.SetTextAlign(31); \textcolor{comment}{//right bottom}}
\DoxyCodeLine{65   label.DrawLatex(0.90, 0.92, \textcolor{stringliteral}{"{}\#sqrt\{s\} = 8 TeV, L\_\{int\} = 11.6 fb\string^\{-\/1\}"{}});}
\DoxyCodeLine{66 }
\DoxyCodeLine{67   \textcolor{comment}{// Save plot}}
\DoxyCodeLine{68   c-\/>SaveAs(\textcolor{stringliteral}{"{}Plots/dimuonSpectrum\_cut\_pt2.pdf"{}});}
\DoxyCodeLine{69 }
\DoxyCodeLine{70   \textcolor{comment}{// Print cut-\/flow report}}
\DoxyCodeLine{71   report-\/>Print();}
\DoxyCodeLine{72 }
\DoxyCodeLine{73   std::string hs;}
\DoxyCodeLine{74   hs=\textcolor{stringliteral}{"{}hist"{}};}
\DoxyCodeLine{75   TH1 *h = (TH1*)gDirectory-\/>Get(hs.c\_str());}
\DoxyCodeLine{76   \textcolor{keywordflow}{return} h;}
\DoxyCodeLine{77 \}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* SpettrumPlot\_h */}\textcolor{preprocessor}{}}

\end{DoxyCode}
